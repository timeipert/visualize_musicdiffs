:root {
    --border-color: #ccc;
    --background-light: #f8f8f8;
    --sidebar-bg: #f0f0f0;
    --header-color: #0F5FA6;
    --text-color: #333;
}
* { box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    color: var(--text-color);
    background-color: #fff;
    height: 100vh;
    overflow: hidden;
}
.app-container { display: flex; height: 100%; }
.sidebar {
    width: 280px;
    flex-shrink: 0;
    background: var(--sidebar-bg);
    border-right: 1px solid var(--border-color);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    overflow-y: auto;
}
.sidebar-header h1 { color: var(--header-color); margin: 0; font-size: 1.8rem; }
.sidebar-header p { margin: 0; font-style: italic; color: #666; }
.control-group { padding-bottom: 1rem; border-bottom: 1px solid #e0e0e0; }
.control-group:last-child { border-bottom: none; }
.control-group h2 { font-size: 1rem; margin-top: 0; margin-bottom: 1rem; }
.control-group button { width: 100%; padding: 8px; margin-top: 8px; border: 1px solid #bbb; background-color: #fff; cursor: pointer; border-radius: 4px; }
.control-group button:hover { background-color: #e9e9e9; }
.control-group input[type="file"] { width: 100%; }
.analysis-options, .vis-options { display: flex; flex-direction: column; gap: 8px; }
.main-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    padding: 1.5rem;
    overflow: hidden;
}
.vis-wrapper { flex-grow: 1; position: relative; min-height: 300px; }
.vis-container { position: absolute; width: 100%; height: 100%; border: 1px solid var(--border-color); background: var(--background-light); }
#axis-wrapper { overflow-x: auto; border: 1px solid var(--border-color); background: var(--background-light); margin-top: 1rem; min-height: 150px; }
#axis { display: block; }
.axis-note { text-align: right; font-style: italic; color: #666; margin: 0.5rem 0; }
.slider-container { display: flex; align-items: center; width: 100%; margin-top: 1rem; }
#beatSlider { flex-grow: 1; }
#beatLabel { margin-left: 10px; font-weight: bold; min-width: 300px; }
#axis-legend { margin-top: 1rem; }
#axis-legend .legend-gradient { width: 100%; height: 15px; border: 1px solid #ddd; }
#axis-legend .legend-labels { display: flex; justify-content: space-between; font-size: 10px; }
.tooltip { position: absolute; background: rgba(255,255,255,0.95); border: 1px solid #999; padding: 8px; font-size: 12px; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); max-width: 350px; white-space: pre-wrap; transition: opacity 0.2s; }
.loader-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.7); z-index: 1000; display: flex; justify-content: center; align-items: center; }
.spinner { border: 5px solid #f3f3f3; border-top: 5px solid var(--header-color); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.node-label { font-size: 10px; paint-order: stroke; stroke: white; stroke-width: 3px; fill: black; }